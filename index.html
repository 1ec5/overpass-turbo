<!DOCTYPE HTML>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" lang="en"></meta>
  <title>Overpass IDE</title>
  <!--jQuery-->
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
  <!--CodeMirror-->
  <link rel="stylesheet" href="libs/CodeMirror/lib/codemirror.css">
  <script src="libs/CodeMirror/lib/codemirror.js"></script>
  <script src="libs/CodeMirror/mode/javascript/javascript.js"></script>
  <script src="libs/CodeMirror/mode/xml/xml.js"></script>
  <script src="libs/CodeMirror/mode/clike/clike.js"></script>
  <script src="libs/CodeMirror/lib/util/closetag.js"></script>
  <!--leaflet-->
  <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.4/leaflet.css" />
  <script src="http://cdn.leafletjs.com/leaflet-0.4/leaflet.js"></script>
  <!--misc libraries-->
  <script src="libs/misc.js"></script>
  <!--jQuery UI-->
  <link type="text/css" href="jquery-ui.css" rel="Stylesheet" />
  <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.23/jquery-ui.min.js"></script>
  <!--own scripts & styles-->
  <link rel="stylesheet" type="text/css" href="default.css" />
  <link rel="stylesheet" type="text/css" media="(max-width: 700px), (max-device-width: 799px)" href="compact.css"/>
  <script src="settings.js"></script>
  <script src="ide.js"></script>
  <script src="overpass.js"></script>
  <script src="examples.js"></script>
  <!--more optional libraries-->
  <!--others-->
  <script src="libs/html2canvas/html2canvas.min.js"></script>
  <script src="libs/html2canvas/jquery.plugin.html2canvas.js"></script>
  <script src="libs/canvg/rgbcolor.js"></script>
  <script src="libs/canvg/canvg.min.js"></script>
</head>
<body>
  <div id="navs">
    <div class="nav">
      <div class="buttons">
        <a class="button group left" accesskey="1" href="#run" onclick="ide.onRunClick();">Run</a>
        <a class="button group right gap" accesskey="3" href="#export" onclick="ide.onCompileClick();">Compile</a>
        <a class="button group left" accesskey="4" href="#save" onclick="ide.onSaveClick();">Save</a>
        <a class="button group" accesskey="5" href="#load" onclick="ide.onLoadClick();">Load</a>
        <a class="button group" accesskey="2" href="#share" onclick="ide.onShareClick();">Share</a>
        <a class="button group right gap" accesskey="3" href="#export" onclick="ide.onExportClick();">Export</a>
        <a class="button group left" accesskey="9" href="#settings" onclick="ide.onSettingsClick();">Settings</a>
        <a class="button group right" accesskey="0" href="#help" onclick="ide.onHelpClick();">Help</a>
      </div>
      <div class="title">overpass-ide</div>
      <div class="tabs">
        <a class="button active" href="#map">Map</a>
        <a class="button" href="#data">Data</a>
      </div>
    </div>
  </div>

  </div>
  <div id="editor">
    <!--CodeMirror goes here-->
    <textarea></textarea>
  </div>
  <div id="dataviewer">
    <div id="map"></div>
    <div id="data"></div>
  </div>

  <!--wait spinner-->
  <div class="modal"></div>

  <!--some dialogs-->
  <!--help-->
  <div id="help-dialog" title="Help" class="dialog">
    <h3><a href="#">Introduction</a></h3>
    <div>
      <p>This web application lets you run <a href="http://overpass-api.de">Overpass API</a> <a href="http://wiki.openstreetmap.org/wiki/Overpass_API/Language_Guide">queries</a> and analyse the results interactively on a map.</p>
      <p>You can run xml styled or OverpassQL queries. Returned xml or json data is parsed and (if possible) shown on the map.</p>
      <p>One can use the following shortcuts in the query: <ul>
        <li><i>&lt;bbox-query/&gt;</i> translates to a bbox-query with from currently visible map.</li>
        <li><i>(bbox-query)</i> translates to a operpassQL bbox-query from the currently visible map.</li>
        <li><i>&lt;coord-query/&gt;</i> translates to a coord-query from the current map center point.</li>
      </ul></p>
    </div>
    <h3><a href="#">Attribution</a></h3>
    <div>
      <h4>Data Sources</h4>
      <ul class="plain">
        <li>Data mining by <a href="http://overpass-api.de/">Overpass API</a></li>
        <li>Data &copy; <a href="http://openstreetmap.org/">OpenStreetMap</a> contributors, <span style="font-size:smaller;"><a href="http://opendatacommons.org/licenses/odbl/1-0/">ODbL</a> (<a href="http://www.openstreetmap.org/copyright">Terms</a>)</span></li>
        <li>Map tiles &copy; <a href="http://openstreetmap.org/">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/" style="font-size:smaller;">CC-BY-SA</a></li>
        <li>Search provided by <a href="http://wiki.openstreetmap.org/wiki/Nominatim">Nominatim</a></li>
      </ul>
      <h4>Software & Libraries</h4>
      <ul class="plain">
        <li>Map powered by <a href="http://leaflet.cloudmade.com">Leaflet</a></li>
        <li>Editor powered by <a href="http://codemirror.net/">CodeMirror</a></li>
        <li>Driven by <a href="http://jquery.com/">jQuery</a></li>
        <li>Other libraries: <a href="http://jqueryui.com/">jQuery UI</a>, <a href="http://html2canvas.hertzen.com/">html2canvas</a>, <a href="http://code.google.com/p/canvg/">canvg</a></li>
      </ul>
    </div>
  </div>
  <!--settings-->
  <div title="Settings" id="settings-dialog" class="dialog">
    <h3>General Settings</h3>
    <p><label>Server:</label> <input type="text" name="server" value="" style="width:270px;"/></p>
    <p><input type="checkbox" name="use_html5_coords"/>&nbsp;Start at current location <small>(html5 geolocation)</small></p>
    <p><input type="checkbox" name="use_rich_editor"/>&nbsp;Enable rich code editor <small>(disable this on mobile devices; requires a page-reload to take effect)</small>.</p>
    <h3>Map</h3>
    <p><label>Tile-Server:</label> <input type="text" name="tile_server" value="" style="width:240px;"/></p>
    <p><input type="checkbox" name="enable_crosshairs"/>&nbsp;Show crosshairs at the map center.</p>
    <h3>Sharing</h3>
    <p><input type="checkbox" name="share_include_pos"/>&nbsp;Include current map state in shared links</p>
    <p><label>Compression <small>(share)</small>:</label> <input type="text" name="share_compression" value="" style="width:40px;"/></p>
    <h3>Export</h3>
    <p><input type="checkbox" name="export_image_scale"/>&nbsp;Show scale on exported images.</p>
    <p><input type="checkbox" name="export_image_attribution"/>&nbsp;Show attribution on exported images.</p>
  </div>
  <!--save-->
  <div title="Save" id="save-dialog" class="dialog">
    <p>Enter a name for this query</p>
    <p><input name="save" type="text" /></p>
  </div>
  <!--load-->
  <div title="Load" id="load-dialog" class="dialog">
    <p>Select example to load:</p>
    <ul class="plain"></ul>
  </div>
  <!--export-->
  <div title="Export" id="export-dialog" class="dialog">
    <h3>Map</h3>
    <p>as <a id="export-image" href="#Export-Image" onclick="ide.onExportImageClick(); $(this).parents('.ui-dialog-content').dialog('close');">png image</a></p>
    <p>as <a id="export-overpass-openlayers" href="">interactive OpenLayers overlay<span class="ui-icon ui-icon-extlink" style="display:inline-block;"></span></a> <small>(only for queries returning valid OSM-XML)</small></p>
    <p>get current <a id="export-map-state" href="#Export-Map-State">map state</a> <small>bbox, center, etc.</small></p>
    <h3>Query</h3>
    <p>as <a id="export-text" href="" download='query.txt'>text</a></p>
    <p>raw link to <a id="export-overpass-api" href="">API interpreter<span class="ui-icon ui-icon-extlink" style="display:inline-block;"></span></a></p>
    <p>convert to <a id="export-convert-xml" href="">xml<span class="ui-icon ui-icon-extlink" style="display:inline-block;"></span></a></p>
    <p>convert to (<a id="export-convert-compact" href="">compact<span class="ui-icon ui-icon-extlink" style="display:inline-block;"></span></a>) <a id="export-convert-ql" href="">OverpassQL<span class="ui-icon ui-icon-extlink" style="display:inline-block;"></span></a></p>
    <p>load into <a id="export-josm" href="">JOSM</a> <small>(only for queries returning valid OSM-XML with meta data)</small></p>
  </div>

</body>
</html>
